"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,a){function c(e){try{i(s.next(e))}catch(e){a(e)}}function o(e){try{i(s.throw(e))}catch(e){a(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,o)}i((s=s.apply(e,t||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0});const express_1=require("express"),healthcheckRouter=(0,express_1.Router)();healthcheckRouter.get("/healthz",((e,t,n)=>__awaiter(void 0,void 0,void 0,(function*(){const e={uptime:process.uptime(),message:"OK",timestamp:Date.now(),instances:process.env.NODE_APP_INSTANCE};try{t.send(e)}catch(n){e.message=String(n),t.status(503).send()}})))),exports.default=e=>{e.use(healthcheckRouter)};